<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marulam - Photo Editor</title>
    <script type="text/javascript" src="asets/jquery.min.js"></script>
    <script type="text/javascript" src="asets/photoeditor.js"></script>
    <link rel="stylesheet" href="asets/style.css">
    <link rel="icon" type="image/x-icon" href="asets/favicon.png">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <!-- Presets Section -->
            <div class="section">
                <div class="section-title">Presets</div>
                <div class="preset-grid">
                    <button class="preset-btn" data-preset="original">Original</button>
                    <button class="preset-btn" data-preset="bw">Black & White</button>
                    <button class="preset-btn" data-preset="warm">Warm</button>
                    <button class="preset-btn" data-preset="cold">Cold</button>
                    <button class="preset-btn" data-preset="cinematic">Cinematic</button>
                    <button class="preset-btn" data-preset="vintage">Vintage</button>
                    <button class="preset-btn" data-preset="dramatic">Dramatic</button>
                    <button class="preset-btn" data-preset="soft">Soft</button>
                </div>
            </div>

            <!-- Histogram -->
            <div class="section">
                <div class="section-title">Histogram</div>
                <canvas id="histogram" class="histogram" width="260" height="100"></canvas>
            </div>

            <!-- Main Editing Tabs -->
            <div class="tabs">
                <button class="tab active" data-tab="crop">Crop</button>
                <button class="tab" data-tab="edit">Edit</button>
            </div>

            <!-- Crop Tab -->
            <div id="crop-tab" class="tab-content active">
                <div class="section">
                    <div class="section-title">Aspect Ratio</div>
                    <div class="crop-controls">
                        <button class="aspect-btn active" data-aspect="free">Free</button>
                        <button class="aspect-btn" data-aspect="1:1">1:1</button>
                        <button class="aspect-btn" data-aspect="4:3">4:3</button>
                        <button class="aspect-btn" data-aspect="16:9">16:9</button>
                        <button class="aspect-btn" data-aspect="3:2">3:2</button>
                        <button class="aspect-btn" data-aspect="5:4">5:4</button>
                    </div>
                </div>

                <div class="control-group">
                    <label class="control-label">Straighten</label>
                    <input type="range" class="slider" id="straighten" min="-45" max="45" value="0" step="0.1">
                    <div class="value-display" id="straighten-value">0Â°</div>
                </div>
            </div>

            <!-- Edit Tab -->
            <div id="edit-tab" class="tab-content">
                <div class="tabs">
                    <button class="tab active" data-tab="light">Light</button>
                    <button class="tab" data-tab="color">Color</button>
                    <button class="tab" data-tab="effect">Effect</button>
                    <button class="tab" data-tab="detail">Detail</button>
                </div>

                <!-- Light Controls -->
                <div id="light-content" class="tab-content active">
                    <div class="control-group">
                        <label class="control-label">Exposure</label>
                        <input type="range" class="slider" id="exposure" min="-2" max="2" value="0" step="0.01">
                        <div class="value-display" id="exposure-value">0</div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Contrast</label>
                        <input type="range" class="slider" id="contrast" min="-100" max="100" value="0">
                        <div class="value-display" id="contrast-value">0</div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Highlights</label>
                        <input type="range" class="slider" id="highlights" min="-100" max="100" value="0">
                        <div class="value-display" id="highlights-value">0</div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Shadows</label>
                        <input type="range" class="slider" id="shadows" min="-100" max="100" value="0">
                        <div class="value-display" id="shadows-value">0</div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Whites</label>
                        <input type="range" class="slider" id="whites" min="-100" max="100" value="0">
                        <div class="value-display" id="whites-value">0</div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Blacks</label>
                        <input type="range" class="slider" id="blacks" min="-100" max="100" value="0">
                        <div class="value-display" id="blacks-value">0</div>
                    </div>

                    <div class="section-title">Tone Curve</div>
                    <canvas id="toneCurve" class="tone-curve" width="260" height="150"></canvas>
                </div>

                <!-- Color Controls -->
                <div id="color-content" class="tab-content">
                    <div class="section-title">White Balance</div>
                    <div class="control-group">
                        <label class="control-label">Temperature</label>
                        <input type="range" class="slider" id="temperature" min="-100" max="100" value="0">
                        <div class="value-display" id="temperature-value">0</div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Tint</label>
                        <input type="range" class="slider" id="tint" min="-100" max="100" value="0">
                        <div class="value-display" id="tint-value">0</div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Vibrance</label>
                        <input type="range" class="slider" id="vibrance" min="-100" max="100" value="0">
                        <div class="value-display" id="vibrance-value">0</div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Saturation</label>
                        <input type="range" class="slider" id="saturation" min="-100" max="100" value="0">
                        <div class="value-display" id="saturation-value">0</div>
                    </div>

                    <div class="section-title">Color Mix</div>
                    <div class="color-mix-grid">
                        <div class="color-mix-item">
                            <div style="font-weight: bold; color: #ff4444;">Red</div>
                            <input type="range" class="slider" id="red-hue" min="-100" max="100" value="0" data-color="red" data-type="hue">
                            <input type="range" class="slider" id="red-sat" min="-100" max="100" value="0" data-color="red" data-type="saturation">
                            <input type="range" class="slider" id="red-lum" min="-100" max="100" value="0" data-color="red" data-type="luminance">
                        </div>
                        <div class="color-mix-item">
                            <div style="font-weight: bold; color: #ff8844;">Orange</div>
                            <input type="range" class="slider" id="orange-hue" min="-100" max="100" value="0" data-color="orange" data-type="hue">
                            <input type="range" class="slider" id="orange-sat" min="-100" max="100" value="0" data-color="orange" data-type="saturation">
                            <input type="range" class="slider" id="orange-lum" min="-100" max="100" value="0" data-color="orange" data-type="luminance">
                        </div>
                        <div class="color-mix-item">
                            <div style="font-weight: bold; color: #ffff44;">Yellow</div>
                            <input type="range" class="slider" id="yellow-hue" min="-100" max="100" value="0" data-color="yellow" data-type="hue">
                            <input type="range" class="slider" id="yellow-sat" min="-100" max="100" value="0" data-color="yellow" data-type="saturation">
                            <input type="range" class="slider" id="yellow-lum" min="-100" max="100" value="0" data-color="yellow" data-type="luminance">
                        </div>
                        <div class="color-mix-item">
                            <div style="font-weight: bold; color: #44ff44;">Green</div>
                            <input type="range" class="slider" id="green-hue" min="-100" max="100" value="0" data-color="green" data-type="hue">
                            <input type="range" class="slider" id="green-sat" min="-100" max="100" value="0" data-color="green" data-type="saturation">
                            <input type="range" class="slider" id="green-lum" min="-100" max="100" value="0" data-color="green" data-type="luminance">
                        </div>
                        <div class="color-mix-item">
                            <div style="font-weight: bold; color: #44ffff;">Aqua</div>
                            <input type="range" class="slider" id="aqua-hue" min="-100" max="100" value="0" data-color="aqua" data-type="hue">
                            <input type="range" class="slider" id="aqua-sat" min="-100" max="100" value="0" data-color="aqua" data-type="saturation">
                            <input type="range" class="slider" id="aqua-lum" min="-100" max="100" value="0" data-color="aqua" data-type="luminance">
                        </div>
                        <div class="color-mix-item">
                            <div style="font-weight: bold; color: #4444ff;">Blue</div>
                            <input type="range" class="slider" id="blue-hue" min="-100" max="100" value="0" data-color="blue" data-type="hue">
                            <input type="range" class="slider" id="blue-sat" min="-100" max="100" value="0" data-color="blue" data-type="saturation">
                            <input type="range" class="slider" id="blue-lum" min="-100" max="100" value="0" data-color="blue" data-type="luminance">
                        </div>
                        <div class="color-mix-item">
                            <div style="font-weight: bold; color: #ff44ff;">Purple</div>
                            <input type="range" class="slider" id="purple-hue" min="-100" max="100" value="0" data-color="purple" data-type="hue">
                            <input type="range" class="slider" id="purple-sat" min="-100" max="100" value="0" data-color="purple" data-type="saturation">
                            <input type="range" class="slider" id="purple-lum" min="-100" max="100" value="0" data-color="purple" data-type="luminance">
                        </div>
                        <div class="color-mix-item">
                            <div style="font-weight: bold; color: #ff4488;">Magenta</div>
                            <input type="range" class="slider" id="magenta-hue" min="-100" max="100" value="0" data-color="magenta" data-type="hue">
                            <input type="range" class="slider" id="magenta-sat" min="-100" max="100" value="0" data-color="magenta" data-type="saturation">
                            <input type="range" class="slider" id="magenta-lum" min="-100" max="100" value="0" data-color="magenta" data-type="luminance">
                        </div>
                    </div>
                </div>

                <!-- Effect Controls -->
                <div id="effect-content" class="tab-content">
                    <div class="section-title">Effects</div>
                    <div class="control-group">
                        <label class="control-label">Texture</label>
                        <input type="range" class="slider" id="texture" min="-100" max="100" value="0">
                        <div class="value-display" id="texture-value">0</div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Clarity</label>
                        <input type="range" class="slider" id="clarity" min="-100" max="100" value="0">
                        <div class="value-display" id="clarity-value">0</div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Dehaze</label>
                        <input type="range" class="slider" id="dehaze" min="-100" max="100" value="0">
                        <div class="value-display" id="dehaze-value">0</div>
                    </div>

                    <div class="section-title">Vignette</div>
                    <div class="control-group">
                        <label class="control-label">Amount</label>
                        <input type="range" class="slider" id="vignette-amount" min="-100" max="100" value="0">
                        <div class="value-display" id="vignette-amount-value">0</div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Midpoint</label>
                        <input type="range" class="slider" id="vignette-midpoint" min="0" max="100" value="50">
                        <div class="value-display" id="vignette-midpoint-value">50</div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Feather</label>
                        <input type="range" class="slider" id="vignette-feather" min="0" max="100" value="50">
                        <div class="value-display" id="vignette-feather-value">50</div>
                    </div>

                    <div class="section-title">Grain</div>
                    <div class="control-group">
                        <label class="control-label">Amount</label>
                        <input type="range" class="slider" id="grain-amount" min="0" max="100" value="0">
                        <div class="value-display" id="grain-amount-value">0</div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Size</label>
                        <input type="range" class="slider" id="grain-size" min="0" max="100" value="25">
                        <div class="value-display" id="grain-size-value">25</div>
                    </div>
                </div>

                <!-- Detail Controls -->
                <div id="detail-content" class="tab-content">
                    <div class="section-title">Sharpening</div>
                    <div class="control-group">
                        <label class="control-label">Amount</label>
                        <input type="range" class="slider" id="sharpen-amount" min="0" max="150" value="25">
                        <div class="value-display" id="sharpen-amount-value">25</div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Radius</label>
                        <input type="range" class="slider" id="sharpen-radius" min="0.5" max="3" value="1" step="0.1">
                        <div class="value-display" id="sharpen-radius-value">1</div>
                    </div>

                    <div class="section-title">Noise Reduction</div>
                    <div class="control-group">
                        <label class="control-label">Luminance</label>
                        <input type="range" class="slider" id="noise-luminance" min="0" max="100" value="0">
                        <div class="value-display" id="noise-luminance-value">0</div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Color</label>
                        <input type="range" class="slider" id="noise-color" min="0" max="100" value="25">
                        <div class="value-display" id="noise-color-value">25</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="toolbar">
                <input type="file" id="fileInput" class="file-input" accept="image/*">
                <button class="btn" onclick="$('#fileInput').click()">Import Image</button>
                <button class="btn btn-secondary" id="resetBtn">Reset All</button>
                <button class="btn" id="saveBtn">Save Image</button>
                <span style="margin-left: auto; font-size: 12px; color: #999;" id="imageInfo">No image loaded</span>
            </div>

            <div class="canvas-container">
                <canvas id="canvas"></canvas>
                <div class="crop-overlay" id="cropOverlay">
                    <div class="crop-handle nw"></div>
                    <div class="crop-handle ne"></div>
                    <div class="crop-handle sw"></div>
                    <div class="crop-handle se"></div>
                </div>
            </div>

            <div class="status-bar">
                Ready | Use Import Image to start editing
            </div>
        </div>
    </div>

    <script>
        // Initialize the editor when document is ready
        $(document).ready(() => {
            window.photoEditor = new PhotoEditor();
        });
    </script>
</body>
</html>